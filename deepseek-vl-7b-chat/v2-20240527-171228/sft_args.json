{
  "model_type": "deepseek-vl-7b-chat",
  "model_id_or_path": "deepseek-ai/deepseek-vl-7b-chat",
  "model_revision": "master",
  "model_layer_cls_name": null,
  "sft_type": "lora",
  "freeze_parameters": 0.0,
  "additional_trainable_parameters": [],
  "tuner_backend": "peft",
  "template_type": "deepseek-vl",
  "output_dir": "/media/oem/12T/HZY/HTH/deepseek-vl-7b-chat/v2-20240527-171228",
  "add_output_dir_suffix": true,
  "ddp_backend": "nccl",
  "ddp_find_unused_parameters": null,
  "ddp_broadcast_buffers": null,
  "seed": 42,
  "resume_from_checkpoint": null,
  "ignore_data_skip": false,
  "dtype": "bf16",
  "dataset": [
    "_custom_dataset"
  ],
  "dataset_seed": 42,
  "dataset_test_ratio": 0.01,
  "train_dataset_sample": -1,
  "train_dataset_mix_ratio": 0.0,
  "train_dataset_mix_ds": [
    "ms-bench"
  ],
  "val_dataset_sample": null,
  "use_loss_scale": false,
  "system": "You are a helpful language and vision assistant. You are able to understand the visual content that the user provides, and assist the user with a variety of tasks using natural language.",
  "max_length": 2048,
  "truncation_strategy": "delete",
  "check_dataset_strategy": "none",
  "custom_train_dataset_path": [
    "/media/oem/12T/HZY/HTH/dataset2.json"
  ],
  "custom_val_dataset_path": [],
  "self_cognition_sample": 0,
  "model_name": [
    "DEMO_HTH_MULTI"
  ],
  "model_author": [
    "X.F.Liang"
  ],
  "quantization_bit": 0,
  "bnb_4bit_comp_dtype": "bf16",
  "bnb_4bit_quant_type": "nf4",
  "bnb_4bit_use_double_quant": true,
  "bnb_4bit_quant_storage": null,
  "lora_target_modules": [
    "q_proj",
    "k_proj",
    "v_proj"
  ],
  "lora_rank": 8,
  "lora_alpha": 32,
  "lora_dropout_p": 0.05,
  "lora_bias_trainable": "none",
  "lora_modules_to_save": [],
  "lora_dtype": null,
  "lora_lr_ratio": null,
  "use_rslora": false,
  "use_dora": false,
  "adapter_act": "gelu",
  "adapter_length": 128,
  "use_galore": false,
  "galore_rank": 128,
  "galore_target_modules": null,
  "galore_update_proj_gap": 50,
  "galore_scale": 1.0,
  "galore_proj_type": "std",
  "galore_optim_per_parameter": false,
  "galore_with_embedding": false,
  "adalora_target_r": 8,
  "adalora_init_r": 12,
  "adalora_tinit": 0,
  "adalora_tfinal": 0,
  "adalora_deltaT": 1,
  "adalora_beta1": 0.85,
  "adalora_beta2": 0.85,
  "adalora_orth_reg_weight": 0.5,
  "ia3_target_modules": [
    "DEFAULT"
  ],
  "ia3_feedforward_modules": [],
  "ia3_modules_to_save": [],
  "llamapro_num_new_blocks": 4,
  "llamapro_num_groups": null,
  "neftune_noise_alpha": null,
  "neftune_backend": "transformers",
  "lisa_activated_layers": 0,
  "lisa_step_interval": 20,
  "gradient_checkpointing": true,
  "deepspeed": null,
  "batch_size": 1,
  "eval_batch_size": 1,
  "num_train_epochs": 20,
  "max_steps": -1,
  "optim": "adamw_torch",
  "adam_beta1": 0.9,
  "adam_beta2": 0.999,
  "learning_rate": 0.0001,
  "weight_decay": 0.1,
  "gradient_accumulation_steps": 4,
  "max_grad_norm": 0.5,
  "predict_with_generate": false,
  "lr_scheduler_type": "linear",
  "warmup_ratio": 0.05,
  "eval_steps": 50,
  "save_steps": 50,
  "save_only_model": false,
  "save_total_limit": 2,
  "logging_steps": 5,
  "dataloader_num_workers": 0,
  "dataloader_pin_memory": false,
  "push_to_hub": false,
  "hub_model_id": null,
  "hub_token": null,
  "hub_private_repo": false,
  "push_hub_strategy": "push_best",
  "test_oom_error": false,
  "disable_tqdm": false,
  "lazy_tokenize": true,
  "preprocess_num_proc": 1,
  "use_flash_attn": null,
  "ignore_args_error": false,
  "check_model_is_latest": true,
  "logging_dir": "/media/oem/12T/HZY/HTH/deepseek-vl-7b-chat/v2-20240527-171228/runs",
  "report_to": [
    "tensorboard"
  ],
  "acc_strategy": "token",
  "save_on_each_node": true,
  "evaluation_strategy": "steps",
  "save_strategy": "steps",
  "save_safetensors": true,
  "gpu_memory_fraction": null,
  "include_num_input_tokens_seen": false,
  "max_new_tokens": 2048,
  "do_sample": true,
  "temperature": 0.3,
  "top_k": 20,
  "top_p": 0.7,
  "repetition_penalty": 1.0,
  "num_beams": 1,
  "per_device_train_batch_size": null,
  "per_device_eval_batch_size": null,
  "only_save_model": null,
  "neftune_alpha": null,
  "deepspeed_config_path": null,
  "model_cache_dir": null,
  "fsdp": "",
  "fsdp_config": null,
  "lora_use_embedding": false,
  "lora_use_all": false,
  "lora_m2s_use_embedding": false,
  "lora_m2s_use_ln": false,
  "torch_dtype": "torch.bfloat16",
  "fp16": false,
  "bf16": true,
  "bnb_4bit_compute_dtype": "torch.bfloat16",
  "load_in_4bit": false,
  "load_in_8bit": false,
  "train_sampler_random": true,
  "training_args": "Seq2SeqTrainingArguments(output_dir='/media/oem/12T/HZY/HTH/deepseek-vl-7b-chat/v2-20240527-171228', overwrite_output_dir=False, do_train=False, do_eval=True, do_predict=False, evaluation_strategy=<IntervalStrategy.STEPS: 'steps'>, prediction_loss_only=False, per_device_train_batch_size=1, per_device_eval_batch_size=1, per_gpu_train_batch_size=None, per_gpu_eval_batch_size=None, gradient_accumulation_steps=4, eval_accumulation_steps=None, eval_delay=0, learning_rate=0.0001, weight_decay=0.1, adam_beta1=0.9, adam_beta2=0.999, adam_epsilon=1e-08, max_grad_norm=0.5, num_train_epochs=20, max_steps=-1, lr_scheduler_type=<SchedulerType.LINEAR: 'linear'>, lr_scheduler_kwargs={}, warmup_ratio=0.05, warmup_steps=0, log_level='passive', log_level_replica='warning', log_on_each_node=True, logging_dir='/media/oem/12T/HZY/HTH/deepseek-vl-7b-chat/v2-20240527-171228/runs', logging_strategy=<IntervalStrategy.STEPS: 'steps'>, logging_first_step=True, logging_steps=5, logging_nan_inf_filter=True, save_strategy=<IntervalStrategy.STEPS: 'steps'>, save_steps=50, save_total_limit=2, save_safetensors=True, save_on_each_node=True, save_only_model=False, no_cuda=False, use_cpu=False, use_mps_device=False, seed=42, data_seed=None, jit_mode_eval=False, use_ipex=False, bf16=True, fp16=False, fp16_opt_level='O1', half_precision_backend='auto', bf16_full_eval=False, fp16_full_eval=False, tf32=None, local_rank=0, ddp_backend='nccl', tpu_num_cores=None, tpu_metrics_debug=False, debug=[], dataloader_drop_last=False, eval_steps=50, dataloader_num_workers=0, dataloader_prefetch_factor=None, past_index=-1, run_name='/media/oem/12T/HZY/HTH/deepseek-vl-7b-chat/v2-20240527-171228', disable_tqdm=False, remove_unused_columns=False, label_names=None, load_best_model_at_end=False, metric_for_best_model='loss', greater_is_better=False, ignore_data_skip=False, fsdp=[], fsdp_min_num_params=0, fsdp_config={'min_num_params': 0, 'xla': False, 'xla_fsdp_v2': False, 'xla_fsdp_grad_ckpt': False}, fsdp_transformer_layer_cls_to_wrap=None, accelerator_config=AcceleratorConfig(split_batches=False, dispatch_batches=None, even_batches=True, use_seedable_sampler=True), deepspeed=None, label_smoothing_factor=0.0, optim=<OptimizerNames.ADAMW_TORCH: 'adamw_torch'>, optim_args=None, adafactor=False, group_by_length=False, length_column_name='length', report_to=['tensorboard'], ddp_find_unused_parameters=False, ddp_bucket_cap_mb=None, ddp_broadcast_buffers=False, dataloader_pin_memory=False, dataloader_persistent_workers=False, skip_memory_metrics=True, use_legacy_prediction_loop=False, push_to_hub=False, resume_from_checkpoint=None, hub_model_id=None, hub_strategy=<HubStrategy.EVERY_SAVE: 'every_save'>, hub_token=None, hub_private_repo=False, hub_always_push=False, gradient_checkpointing=True, gradient_checkpointing_kwargs=None, include_inputs_for_metrics=False, fp16_backend='auto', push_to_hub_model_id=None, push_to_hub_organization=None, push_to_hub_token=None, mp_parameters='', auto_find_batch_size=False, full_determinism=False, torchdynamo=None, ray_scope='last', ddp_timeout=1800, torch_compile=False, torch_compile_backend=None, torch_compile_mode=None, dispatch_batches=None, split_batches=None, include_tokens_per_second=False, include_num_input_tokens_seen=False, neftune_noise_alpha=None, sortish_sampler=True, predict_with_generate=False, generation_max_length=None, generation_num_beams=None, generation_config=GenerationConfig {\n  \"do_sample\": true,\n  \"eos_token_id\": 100001,\n  \"max_new_tokens\": 2048,\n  \"pad_token_id\": 100001,\n  \"temperature\": 0.3,\n  \"top_k\": 20,\n  \"top_p\": 0.7\n}\n, train_sampler_random=True, push_hub_strategy='push_best', acc_strategy='token', additional_saved_files=[])"
}